# Бинарный транслятор

## Описание проекта

Этот проект - небольшой компилятор для своего языка программирования. Компилятор генерирует ассемблерный код для моей виртуальной машины (см. [SPU](https://github.com/artemneskorodov/spu)). Синтаксис языка С-подобный. В папке samples можно найти некоторые примеры. Компилятор использует архитектуру похожую на GCC: он включает в себя фроненд, миддленд, бэкенд а также реверсивный фроненд.

## Более детальное описание

### Фронтенд

Фронтенд языка сначала делает лексический анализ, затем синтаксический с помощью рекрсивного спуска. Фронтенд генерирует абстрактное синтаксическое дерево и записывает его в файл. Формат записанного дерева в файле был согласован с моим коллегой. Такой подход позволяет в настоящих языках писать по одному бэкенду для каждого процессора и по одному фроненду для каждого языка.

### Миддленд

В этой части происходит оптимизация программы, она читает дерево из файла, проводит упрощения, в числе которых упрощение нейтральных элементов (например умножение на 1) и свёртывание констант. Миддленд, являющийся отдельным модулем не связанным с конкретным языком позволяет написать лишь один оптимизатор для многих языков программирования.

### Бэкенд

Эта часть программы читает дерево из файла и переводит его в ассемблерный код. На этапе бэкенда реализуются стековые фреймы которые позволяют функциям и любым другим телам, находащимся в фигурных скобках иметь локальные переменные.

### Реверсивный фронтенд

Эта часть программы отсутствует в настоящих компиляторах, но в нашем задании она была реализована как некоторая проверка соответствия деревьев с другими языками, поддерживающими стандарт. Она позволяет написать исходный код из абстрактного синтаксического дерева.

## Дальнейшая разработка

Дальнейшая разработка скорее всего не будет продолжена, так как это очень ограниченный компилятор для очень ограниченной виртуальной машины, который писался в целях обучения.

## TODO

- Добавить структурированное описание стандарта записи дерева
- Добавить примеры кода
